tinymce.create("tinymce.plugins.EquationEditorPlugin",{init:function(t,e){var n,i;return i=null,n="https://webstudy.codecogs.com/gif.latex?",t.addCommand("mceMathquill",function(n){var o;return n||(n=""),o=t.windowManager.open({url:"bower_components/tinymce-dist/plugins/equationeditor/equation_editor.html",width:820,height:400,inline:1,popup_css:!1,title:"Equation Editor",buttons:[{text:"insert equation",subtype:"primary",onclick:function(){var e,n;return n=t.windowManager.getWindows()[0],e=t.windowManager.getParams().latexInput.mathquill("latex"),t.execCommand("mceMathquillInsert",e),n.close()}},{text:"cancel",onclick:function(){return i=null,t.windowManager.getWindows()[0].close()}}]},{plugin_url:e,existing_latex:n})}),t.addCommand("mceMathquillInsert",function(e){var o;if(e)return o='&nbsp;\n  <img class="rendered-latex" src="'+n+e+'"> \n&nbsp;',i&&t.selection.select(i),i=null,t.selection.setContent(o)}),t.on("init",function(){return $(t.getDoc()).on("click",".rendered-latex",function(e){var o;return e.stopPropagation(),i=this,o=$(this).attr("src").replace(n,""),t.execCommand("mceMathquill",o),console.log(o)})}),t.addButton("equationeditor",{title:"Equation editor",cmd:"mceMathquill",text:"f(x)"}),t.on("preProcess",function(t){var e;return e=t.target.dom.select(".rendered-latex:not(.mathquill-rendered-math)"),$(e).mathquill()}),t.on("loadContent",function(t){var e;return e=t.target.dom.select("span.rendered-latex:not(.mathquill-rendered-math)"),$(e).mathquill()}),t.on("setContent",function(t){var e;return e=t.target.dom.select("span.rendered-latex:not(.mathquill-rendered-math)"),$(e).mathquill()})},getInfo:function(){return{longname:"Equation Editor",author:"Foraker, derived from https://github.com/laughinghan/tinymce_mathquill_plugin",authorurl:"http://www.foraker.com",infourl:"https://github.com/foraker/tinymce_equation_editor",version:"1.0"}}}),tinymce.PluginManager.add("equationeditor",tinymce.plugins.EquationEditorPlugin);